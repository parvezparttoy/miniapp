<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mining Bot</title>
<style>
  :root{
    --bg:#0b0f16; --card:#121826; --muted:#9db2d3; --text:#e6f0ff;
    --line:#1e2a44; --accent:#00e5ff; /* active cyan for tabs (like screenshot) */
    --brand:#ef0027; /* TRX red */
    --btn:#0f172a; --btnline:#223553;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
  .wrap{max-width:560px;margin:0 auto;padding:12px 12px 100px}

  /* Splash (Login) */
  .splash{position:fixed;inset:0;background:radial-gradient(900px 600px at 50% 0%,#111a2e 0%,#0a0f1a 60%,#05080e 100%);display:grid;place-items:center;z-index:50}
  .card-splash{text-align:center}
  .coin{width:140px;height:140px;border-radius:50%;background:#2a0b10;border:3px solid #4a0f18;display:grid;place-items:center;
        box-shadow:0 30px 80px rgba(239,0,39,.35), inset 0 0 40px rgba(239,0,39,.2); animation:float 3s ease-in-out infinite}
  .coin svg{width:90px;height:90px;fill:var(--brand);animation:spin 4.5s linear infinite}
  @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
  @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
  .enter{margin-top:16px;background:var(--accent);color:#00131a;border:0;padding:12px 18px;border-radius:14px;font-weight:900}
  .slogan{margin-top:8px;color:var(--muted);font-size:13px}

  .welcome{background:#151e2f;border:1px solid var(--line);padding:10px 12px;border-radius:12px;margin:8px 0}
  .title{font-size:18px;font-weight:800;margin:0;color:#7dd3fc}
  .sub{font-size:12px;color:var(--muted);margin-top:4px}

  .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px;margin-top:12px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  h2{margin:6px 0 8px;font-size:16px}
  .center{text-align:center}
  .row{display:flex;gap:10px;align-items:center}
  .col{display:flex;flex-direction:column;gap:10px}

  .pill{display:inline-block;background:#0e1626;border:1px solid #243754;color:#9db2d3;padding:6px 10px;border-radius:999px;font-size:12px}
  .trx-giant{width:180px;height:180px;border-radius:50%;display:grid;place-items:center;background:#22060a;border:3px solid #3c0b12;
             box-shadow:0 25px 80px rgba(239,0,39,.35);margin:0 auto 10px}
  .trx-giant svg{width:110px;height:110px;fill:var(--brand)}

  .trx-sm{width:28px;height:28px;border-radius:50%;display:grid;place-items:center;background:#22060a;border:1px solid #3c0b12;margin:0 auto 6px}
  .trx-sm svg{width:16px;height:16px;fill:var(--brand)}
  .btn{background:var(--btn);border:1px solid var(--btnline);color:#dbeafe;padding:10px 12px;border-radius:14px;font-weight:800;text-align:center}
  .btn.accent{background:var(--brand);border-color:var(--brand);color:#fff}
  .btn:disabled{opacity:.6}
  .btn .label{display:block}
  .btn .hint{display:block;font-weight:600;font-size:12px;color:#9db2d3}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .statrow{display:flex;justify-content:center;gap:8px;margin:8px 0}
  .balance{font-size:22px;font-weight:900}

  /* Bottom tab bar with icons above text (like screenshot) */
  .tabbar{position:fixed;left:0;right:0;bottom:0;display:flex;gap:6px;justify-content:center;padding:8px 10px 10px;
          background:rgba(10,15,25,.92);border-top:1px solid #0f1a2a;backdrop-filter:blur(6px);z-index:9}
  .tab{flex:1;max-width:120px;background:transparent;border:0;color:#a9b9d6;font-weight:700;padding:6px 0 4px}
  .tab .ico{display:block;margin:0 auto 6px;width:22px;height:22px;opacity:.7}
  .tab.active{color:var(--accent)}
  .tab.active .ico{opacity:1;filter:drop-shadow(0 0 4px rgba(0,229,255,.55))}
  .hidden{display:none}
</style>
</head>
<body>

<!-- Splash / Login -->
<div id="splash" class="splash">
  <div class="card-splash">
    <div class="coin">
      <svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg>
    </div>
    <h2 style="margin:14px 0 0">Welcome to our mining bot</h2>
    <div class="slogan">Secure. Fast. Tap “Enter App” to continue.</div>
    <button id="enter" class="enter">Enter App</button>
  </div>
</div>

<div class="wrap">
  <!-- Welcome strip -->
  <div class="welcome">
    <div class="title">Welcome</div>
    <div class="sub">Use the tabs below to navigate. Buy a plan to enable mining.</div>
  </div>

  <!-- HOME -->
  <section id="page-home" class="page">
    <div class="card center">
      <div class="trx-giant" aria-hidden="true">
        <svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg>
      </div>
      <h2>Home</h2>
      <div class="statrow">
        <span class="pill">Mining: <b id="status">Stop</b></span>
        <span class="pill">Time <b id="time">00:00</b></span>
      </div>
      <div class="sub">Current Plan: <b id="planName">None</b> • Rate: <b id="rateText">0.000000 TRX/sec</b></div>
    </div>
  </section>

  <!-- MINING -->
  <section id="page-mining" class="page hidden">
    <div class="card center">
      <h2>Mining Control</h2>
      <div class="statrow">
        <span class="pill">Status: <b id="status2">Stop</b></span>
        <span class="pill">Session: <b id="time2">00:00</b></span>
      </div>
      <button id="toggleMining" class="btn accent" style="width:100%">
        <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
        <span class="label">Start Mining</span>
        <span class="hint">Requires any purchased plan</span>
      </button>
    </div>

    <div class="card">
      <h2>Buy Mining Plan</h2>
      <div class="grid2">
        <button class="btn plan" data-plan="TM1" data-cost="10" data-rate="0.000100">
          <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
          <span class="label">Buy Mining TM1</span>
          <span class="hint">Cost: 10 TRX • Rate: 0.000100</span>
        </button>
        <button class="btn plan" data-plan="TM2" data-cost="20" data-rate="0.000300">
          <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
          <span class="label">Buy Mining TM2</span>
          <span class="hint">Cost: 20 TRX • Rate: 0.000300</span>
        </button>
        <button class="btn plan" data-plan="TM3" data-cost="30" data-rate="0.000700">
          <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
          <span class="label">Buy Mining TM3</span>
          <span class="hint">Cost: 30 TRX • Rate: 0.000700</span>
        </button>
        <button class="btn" disabled>
          <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
          <span class="label">More Soon</span>
          <span class="hint">—</span>
        </button>
      </div>
      <div class="sub" style="margin-top:8px">Purchasing deducts TRX from your balance (local demo).</div>
    </div>
  </section>

  <!-- TASK -->
  <section id="page-task" class="page hidden">
    <div class="card">
      <h2>Task</h2>
      <div class="col">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div>
            <div><b>Join our channel</b></div>
            <a href="https://t.me/+JQdsBNK6nE1kNTg1" target="_blank">Go to channel</a>
            <div class="sub">Join then tap Complete to get +0.1 TRX</div>
          </div>
          <button class="btn accent complete" data-id="t1">
            <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
            <span class="label">Complete</span>
          </button>
        </div>
        <hr style="border:0;border-top:1px solid var(--line)">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div>
            <div><b>Join our channel 2</b></div>
            <a href="https://t.me/+JQdsBNK6nE1kNTg1" target="_blank">Go to channel</a>
            <div class="sub">+0.1 TRX</div>
          </div>
          <button class="btn accent complete" data-id="t2">
            <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
            <span class="label">Complete</span>
          </button>
        </div>
        <hr style="border:0;border-top:1px solid var(--line)">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div>
            <div><b>Join our channel 3</b></div>
            <a href="https://t.me/+JQdsBNK6nE1kNTg1" target="_blank">Go to channel</a>
            <div class="sub">+0.1 TRX</div>
          </div>
          <button class="btn accent complete" data-id="t3">
            <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
            <span class="label">Complete</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- WALLET -->
  <section id="page-wallet" class="page hidden">
    <div class="card center">
      <div class="trx-giant" aria-hidden="true">
        <svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg>
      </div>
      <h2>Wallet</h2>
      <div class="row" style="justify-content:space-between;align-items:flex-end;margin-top:6px">
        <div>
          <div class="sub">Main Balance</div>
          <div id="balance" class="balance">0.000000 TRX</div>
        </div>
        <div class="row" style="gap:8px">
          <button class="btn">
            <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
            <span class="label">Deposit</span>
          </button>
          <button class="btn accent">
            <div class="trx-sm"><svg viewBox="0 0 512 512"><path d="M256 32 32 96l192 320 256-320L256 32zm0 64 150.8 44.1L224 376 87.6 134.1 256 96z"/></svg></div>
            <span class="label">Withdraw</span>
          </button>
        </div>
      </div>
      <div class="sub" style="margin-top:8px">Deposit/Withdraw are UI-only placeholders for now.</div>
    </div>
  </section>

  <!-- REFER -->
  <section id="page-refer" class="page hidden">
    <div class="card center">
      <h2>Refer</h2>
      <div class="sub">Coming soon</div>
    </div>
  </section>
</div>

<!-- Bottom Tab Bar -->
<div class="tabbar">
  <button class="tab active" data-tab="home">
    <svg class="ico" viewBox="0 0 24 24"><path fill="currentColor" d="M3 10.5 12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1z"/></svg>
    Home
  </button>
  <button class="tab" data-tab="mining">
    <svg class="ico" viewBox="0 0 24 24"><path fill="currentColor" d="M10 2 8.6 3.4 13.2 8l-1.2 1.2-1.7-1.7L5 12v3l-2 2 2 2 2-2h3l6.5-6.3-1.7-1.7L15 7.2 20.6 12 22 10.6 10 2z"/></svg>
    Mining
  </button>
  <button class="tab" data-tab="task">
    <svg class="ico" viewBox="0 0 24 24"><path fill="currentColor" d="M7 3h10a2 2 0 0 1 2 2v14l-7-3-7 3V5a2 2 0 0 1 2-2z"/></svg>
    Task
  </button>
  <button class="tab" data-tab="wallet">
    <svg class="ico" viewBox="0 0 24 24"><path fill="currentColor" d="M3 7a2 2 0 0 1 2-2h12a3 3 0 0 1 3 3v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7zm14 3h3v4h-3a2 2 0 0 1-2-2 2 2 0 0 1 2-2z"/></svg>
    Wallet
  </button>
  <button class="tab" data-tab="refer">
    <svg class="ico" viewBox="0 0 24 24"><path fill="currentColor" d="M10.59 13.41 9.17 12l6-6 1.41 1.41-6 6zM7 6h4V4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-4h-2v4H7V6z"/></svg>
    Refer
  </button>
</div>

<script>
  // ---- Splash ----
  document.getElementById('enter').addEventListener('click', ()=> {
    document.getElementById('splash').style.display='none';
  });

  // ---- State ----
  const S = JSON.parse(localStorage.getItem('mining_state_v3')||'{}');
  const state = Object.assign({
    balance: 0,
    mining: false,
    sessionSec: 0,
    purchased: { TM1:false, TM2:false, TM3:false },
    plan: 'None',
    rate: 0,
    lastTick: Date.now(),
    tasks: { t1:false, t2:false, t3:false }
  }, S);
  const save = ()=>localStorage.setItem('mining_state_v3', JSON.stringify(state));

  const $  = q=>document.querySelector(q);
  const $$ = q=>document.querySelectorAll(q);
  const fmtTRX = x => (Math.floor(x*1e6)/1e6).toFixed(6);
  const mmss   = s => { const m=(s/60|0), ss=s%60; return `${String(m).padStart(2,'0')}:${String(ss).padStart(2,'0')}`; };

  const statusEl=$('#status'), timeEl=$('#time'), status2El=$('#status2'), time2El=$('#time2'),
        planNameEl=$('#planName'), rateTextEl=$('#rateText'), balanceEl=$('#balance'),
        toggleBtn=$('#toggleMining');

  const COSTS={TM1:10,TM2:20,TM3:30};
  const RATES={TM1:0.000100,TM2:0.000300,TM3:0.000700};

  function hasAnyPlan(){ return state.purchased.TM1||state.purchased.TM2||state.purchased.TM3; }

  function render(){
    statusEl.textContent = state.mining?'Start':'Stop';
    status2El.textContent = state.mining?'Start':'Stop';
    timeEl.textContent = mmss(state.sessionSec);
    time2El.textContent = mmss(state.sessionSec);
    planNameEl.textContent = state.plan;
    rateTextEl.textContent = `${fmtTRX(state.rate)} TRX/sec`;
    balanceEl.textContent = `${fmtTRX(state.balance)} TRX`;
    toggleBtn.textContent = state.mining ? 'Stop Mining' : 'Start Mining';

    $$('.complete').forEach(b=>{
      const id=b.dataset.id; if(state.tasks[id]){ b.textContent='Completed'; b.disabled=true; }
    });

    $$('.plan').forEach(b=>{
      const p=b.dataset.plan;
      if(state.purchased[p]){ b.classList.add('accent'); b.querySelector('.hint').textContent=`Purchased • Rate: ${b.dataset.rate}`; }
    });
  }

  // Tabs
  $$('.tab').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      $$('.tab').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const tab=btn.dataset.tab;
      $$('.page').forEach(p=>p.classList.add('hidden'));
      document.getElementById('page-'+tab).classList.remove('hidden');
    });
  });

  // Mining toggle
  toggleBtn.addEventListener('click', ()=>{
    if(!hasAnyPlan()){ alert('Please buy a mining plan first (TM1/TM2/TM3).'); return; }
    state.mining=!state.mining; if(state.mining) state.lastTick=Date.now();
    render(); save();
  });

  // Buy plans (costed)
  $$('.plan').forEach(b=>{
    b.addEventListener('click', ()=>{
      const p=b.dataset.plan, cost=Number(b.dataset.cost), rate=Number(b.dataset.rate);
      if(state.purchased[p]){ state.plan=p; state.rate=rate; render(); save(); alert(`${p} set active ✓`); return; }
      if(state.balance<cost){ alert(`Not enough balance. Need ${cost} TRX.`); return; }
      state.balance-=cost; state.purchased[p]=true; state.plan=p; state.rate=rate; render(); save(); alert(`${p} purchased ✓`);
    });
  });

  // Tasks (+0.1 TRX each, once)
  $$('.complete').forEach(b=>{
    b.addEventListener('click', ()=>{
      const id=b.dataset.id; if(state.tasks[id]) return;
      state.tasks[id]=true; state.balance+=0.1; render(); save();
    });
  });

  // Tick
  function tick(){
    const now=Date.now(), dt=Math.max(0, now-state.lastTick);
    if(state.mining){
      const dsec=Math.floor(dt/1000);
      if(dsec>0){
        state.lastTick+=dsec*1000;
        state.sessionSec+=dsec;
        state.balance+=state.rate*dsec;
        render(); save();
      }
    }else{ state.lastTick=now; }
    requestAnimationFrame(tick);
  }

  render(); requestAnimationFrame(tick);
</script>
</body>
  </html>
