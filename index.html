<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unlimited Vairal Video ‚Äì Ads Unlock üîì</title>

  <!-- Telegram SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Adexora SDK (APP ID: 650) -->
  <script src="https://adexora.com/cdn/ads.js?id=650"></script>

  <style>
    :root{
      --bg:#0b1220;--bg2:#0a1220;--card:#0d1426;--bd:#1f2a44;
      --txt:#e5e7eb;--mut:#9aa4b2;--ok:#22c55e;--pri:#22d3ee;--prid:#0ea5e9;
      --accent:#7dd3fc
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 10% -10%,#0e1a34 0%,transparent 60%),
        radial-gradient(900px 420px at 95% -15%,#042a35 0%,transparent 60%),
        var(--bg2);
      color:var(--txt);
      font:14px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto
    }
    .wrap{max-width:960px;margin:0 auto;padding:18px 14px 110px}
    h2{margin:6px 0 10px;font-size:22px;font-weight:900;letter-spacing:.3px}

    /* Search (home only) */
    .search{display:flex;gap:10px;align-items:center;background:#0d1426;border:1px solid #1f2a44;border-radius:14px;padding:10px 12px;margin:12px 0 14px}
    .search input{flex:1;background:transparent;border:0;outline:0;color:#e5e7eb;font-weight:800}
    .search .ic{color:var(--accent);font-weight:900}

    /* Card */
    .card{position:relative;background:var(--card);border:1px solid var(--bd);border-radius:18px;padding:14px;margin-bottom:14px}
    .thumb{width:100%;aspect-ratio:16/9;object-fit:cover;border-radius:14px;background:#1f2937}
    .title{font-weight:900;margin:10px 0 2px}
    .names{font-size:12px;color:#a8b2c1;margin-bottom:8px}
    .desc{color:var(--mut);margin:0 0 10px}
    .progress{height:8px;background:#0c1322;border:1px solid var(--bd);border-radius:999px;overflow:hidden;margin-bottom:12px}
    .bar{height:100%;width:0;background:linear-gradient(90deg,#22c55e,#a3e635);transition:width .25s}
    .row{display:flex;gap:10px}
    .btn{flex:1;padding:12px;border:0;border-radius:12px;font-weight:900}
    .watch{background:linear-gradient(180deg,var(--pri),var(--prid));color:#001b30}
    .watch.disabled{background:#253244;color:#93a3b5;cursor:not-allowed}
    .join{background:#253244;color:#cbd5e1}
    .join.ready{background:var(--ok);color:#062012}

    /* Like */
    .like{position:absolute;top:10px;right:10px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);
      width:50px;height:50px;border-radius:14px;display:grid;place-items:center;cursor:pointer;backdrop-filter:blur(2px)}
    .like svg{width:26px;height:26px;fill:none;stroke:#e5e7eb;stroke-width:2}
    .like.active{background:rgba(244,63,94,.18);border-color:rgba(244,63,94,.4)}
    .like.active svg{fill:#f43f5e;stroke:#f43f5e}

    /* Views */
    .view{display:none}.view.active{display:block}

    /* Dock */
    .dock{position:fixed;left:12px;right:12px;bottom:12px;background:#0c1322;border:1px solid rgba(255,255,255,.08);border-radius:22px;padding:12px 8px}
    .nav{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
    .tab{display:flex;flex-direction:column;align-items:center;gap:6px;padding:6px 0;color:#cbd5e1;text-decoration:none;cursor:pointer}
    .tab svg{width:22px;height:22px;stroke:#cbd5e1;fill:none;stroke-width:2}
    .tab.active{color:var(--accent)} .tab.active svg{stroke:var(--accent)}
    .tablabel{font-weight:900}

    .foot{font-size:12px;color:#9aa4b2;margin:10px 2px}
    .foot a{color:#93c5fd;font-weight:800;text-decoration:none}

    /* Toast */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:95px;background:rgba(34,197,94,.95);color:#062012;border:1px solid rgba(34,197,94,.6);
      padding:10px 14px;border-radius:10px;font-weight:900;display:none}
    .toast.show{display:block;animation:fade 1.8s ease-out 1}
    @keyframes fade{0%{opacity:0;transform:translate(-50%,8px)}10%{opacity:1}80%{opacity:1}100%{opacity:0}}
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Unlimited Vairal Video ‚Äì Ads Unlock üîì</h2>

    <!-- Search (Home only) -->
    <div id="searchWrap" class="search">
      <span class="ic">üîé</span>
      <input id="searchInput" type="text" placeholder="Search posts (e.g. era, era video, ridhii)">
    </div>

    <!-- VIEWS -->
    <div id="view-home" class="view active"></div>
    <div id="home-notes" class="foot">
      Invite friend: <a href="https://parvezparttoy.github.io/miniapp/" target="_blank" rel="noopener">https://parvezparttoy.github.io/miniapp/</a><br>
      App Community: <a href="https://t.me/VairalVideoInTelegram">t.me/VairalVideoInTelegram</a>
    </div>

    <div id="view-liked" class="view"><div id="liked-container"></div></div>

    <div id="view-tutorial" class="view">
      <div class="card"><div class="title">How to Unlock & Earn</div>
        <ol class="desc" style="margin-left:18px">
          <li>‚ÄúWatch Ads‚Äù ‡¶ö‡¶æ‡¶™‡¶≤‡ßá ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶™‡ßç‡¶≤‡ßá ‡¶π‡¶¨‡ßá</li>
          <li>‡¶†‡¶ø‡¶ï‡¶Æ‡¶§‡ßã ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá ‡¶Ö‡¶ü‡ßã +1 coin ‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá</li>
          <li>‡ßß‡ß¶/‡ßß‡ß¶ ‡¶π‡¶≤‡ßá ‚ÄúJoin Channel‚Äù ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶π‡¶¨‡ßá</li>
          <li><b>Join ‡¶ö‡¶æ‡¶™‡¶≤‡ßá‡¶á</b> ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ü‡¶æ ‡¶è‡¶ï‡ßá‡¶¨‡¶æ‡¶∞‡ßá ‡¶®‡¶ø‡¶ö‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç 0/10 ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶¨‡ßá</li>
        </ol>
      </div>
    </div>

    <div id="view-links" class="view">
      <div class="card" style="display:flex;justify-content:space-between;gap:12px;align-items:center">
        <div>
          <div class="title">Community</div>
          <div class="desc">t.me/VairalVideoInTelegram</div>
        </div>
        <button class="btn watch" data-go="https://t.me/VairalVideoInTelegram">Open</button>
      </div>
      <div class="card" style="display:flex;justify-content:space-between;gap:12px;align-items:center">
        <div>
          <div class="title">Demo Bot</div>
          <div class="desc">t.me/VairalVideoInTelegramBOT</div>
        </div>
        <button class="btn watch" data-go="http://t.me/VairalVideoInTelegramBOT">Open</button>
      </div>
      <div class="foot">Community: <a href="https://t.me/VairalVideoInTelegram">t.me/VairalVideoInTelegram</a></div>
    </div>
  </div>

  <!-- Bottom Nav -->
  <div class="dock">
    <div class="nav">
      <a class="tab active" data-tab="home">
        <svg viewBox="0 0 24 24"><path d="M3 10.5 12 3l9 7.5v9H4z"/></svg><span class="tablabel">Home</span>
      </a>
      <a class="tab" data-tab="liked">
        <svg viewBox="0 0 24 24"><path d="M12 21C8 18 3 14 3 9.5A4.5 4.5 0 0 1 11 8a4.5 4.5 0 0 1 8 1.5C19 14 14 18 12 21Z"/></svg><span class="tablabel">Liked</span>
      </a>
      <a class="tab" data-tab="tutorial">
        <svg viewBox="0 0 24 24"><path d="M4 5h12a3 3 0 0 1 3 3v11H7a3 3 0 0 1-3-3z"/><path d="M7 5v11a3 3 0 0 0 3 3h9"/></svg><span class="tablabel">Tutorial</span>
      </a>
      <a class="tab" data-tab="links">
        <svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7 0l3-3a5 5 0 0 0-7-7L11 5"/><path d="M14 11a5 5 0 0 0-7 0l-3 3a5 5 0 0 0 7 7l2-2"/></svg><span class="tablabel">Links</span>
      </a>
    </div>
  </div>

  <div id="toast" class="toast">+1 coin added!</div>

<script>
(function(){
  // ===== CONFIG =====
  const JOIN_URL = "https://t.me/+JQdsBNK6nE1kNTg1";
  const REQUIRED = 10;

  // ===== DATA =====
  const POSTS = [
    { id:"p1", title:"Jannat Toha Vairal Video ü•µ", names:["Jannat Toha","‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§ ‡¶§‡ßã‡¶π‡¶æ"],
      desc:"‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§ ‡¶§‡ßã‡¶π‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï üòç",
      img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251018_193741_659.jpg",
      kw:"jannat toha ‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§ ‡¶§‡ßã‡¶π‡¶æ video viral"
    },
    { id:"p2", title:"Ridhii TikTok üíó", names:["Ridhii Moni","‡¶∞‡¶ø‡¶ß‡ßÄ ‡¶Æ‡¶®‡¶ø"],
      desc:"‡¶∞‡¶ø‡¶ß‡ßÄ ‡¶Æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï ü•µ",
      img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251018_194758_066.jpg",
      kw:"ridhii ridhi moni ‡¶∞‡¶ø‡¶ß‡ßÄ video viral"
    },
    { id:"p3", title:"Era Moni TikTok üíó", names:["Era Moni","‡¶á‡¶∞‡¶æ ‡¶Æ‡¶®‡¶ø"],
      desc:"‡¶á‡¶∞‡¶æ ‡¶Æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï üòçüí¶",
      img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251016_155725_290.jpg",
      kw:"era moni ira ‡¶á‡¶∞‡¶æ ‡¶Æ‡¶®‡¶ø video viral"
    }
  ];

  // ===== HELPERS =====
  const qs=(s,p)=> (p||document).querySelector(s);
  const qsa=(s,p)=> Array.from((p||document).querySelectorAll(s));
  const sk = id => "coins_"+id;
  const lk = id => "liked_"+id;
  const dk = id => "done_"+id;
  const pct = v => Math.min(100, Math.round((v/REQUIRED)*100));
  const sidx = p => (p.title+" "+p.desc+" "+(p.kw||" ")+" "+(p.names||[]).join(" ")).toLowerCase();
  const toastEl = qs('#toast');
  const showToast = (m)=>{ toastEl.textContent=m||"+1 coin added!"; toastEl.classList.remove('show'); void toastEl.offsetWidth; toastEl.classList.add('show'); setTimeout(()=>toastEl.classList.remove('show'),1600); };

  function updateButtons(id, coins){
    const w=qs('#'+id+'_watch'), j=qs('#'+id+'_join'), bar=qs('#'+id+'_bar');
    if(bar) bar.style.width = pct(coins)+'%';
    if(w){ w.textContent=`Watch Ads (${Math.min(coins,REQUIRED)}/${REQUIRED})`; w.disabled = coins>=REQUIRED; w.classList.toggle('disabled', coins>=REQUIRED); }
    if(j){ j.disabled = coins<REQUIRED; j.classList.toggle('ready', coins>=REQUIRED); }
  }

  function renderCard(p){
    const coins = Number(localStorage.getItem(sk(p.id))||"0");
    const liked = localStorage.getItem(lk(p.id))==="1";
    const el = document.createElement('div');
    el.className='card'; el.dataset.id=p.id;
    el.innerHTML = `
      <button class="like ${liked?'active':''}" data-like="${p.id}">
        <svg viewBox="0 0 24 24"><path d="M12 21C8 18 3 14 3 9.5A4.5 4.5 0 0 1 11 8a4.5 4.5 0 0 1 8 1.5C19 14 14 18 12 21Z"/></svg>
      </button>
      <img class="thumb" src="${p.img}" alt="">
      <div class="title">${p.title}</div>
      <div class="names">${(p.names||[]).join(' / ')}</div>
      <p class="desc">${p.desc}</p>
      <div class="progress"><div class="bar" id="${p.id}_bar" style="width:${pct(coins)}%"></div></div>
      <div class="row">
        <button class="btn watch ${coins>=REQUIRED?'disabled':''}" id="${p.id}_watch" ${coins>=REQUIRED?'disabled':''}>Watch Ads (${Math.min(coins,REQUIRED)}/${REQUIRED})</button>
        <button class="btn join ${coins>=REQUIRED?'ready':''}" id="${p.id}_join" ${coins>=REQUIRED?'':'disabled'}>Join Channel</button>
      </div>
    `;
    // like
    qs('[data-like]',el).onclick=()=>{
      const b=qs('.like',el); const on=b.classList.toggle('active');
      localStorage.setItem(lk(p.id), on?'1':'0'); refreshLiked();
    };
    // watch -> show ad
    qs('#'+p.id+'_watch', el).onclick = ()=> watchAd(p.id);
    // join -> open + move to bottom + reset
    qs('#'+p.id+'_join', el).onclick = ()=>{
      const coins = Number(localStorage.getItem(sk(p.id))||"0");
      if(coins>=REQUIRED){
        if(window.Telegram?.WebApp?.openTelegramLink){ Telegram.WebApp.openTelegramLink(JOIN_URL); }
        else window.open(JOIN_URL,'_blank');
        localStorage.setItem(dk(p.id),'1');         // mark as done -> goes bottom
        localStorage.removeItem(sk(p.id));          // reset coins
        renderHome(qs('#searchInput').value);       // re-render
      }
    };
    return el;
  }

  function renderHome(filter){
    const box = qs('#view-home'); box.innerHTML="";
    const tokens = (filter||"").trim().toLowerCase().split(/\s+/).filter(Boolean);
    const notDone=[], done=[];
    POSTS.forEach(p=> (localStorage.getItem(dk(p.id))==='1'?done:notDone).push(p));

    const match = p => !tokens.length || tokens.some(t=> sidx(p).includes(t));

    [...notDone.filter(match), ...done.filter(match)].forEach(p=> box.appendChild(renderCard(p)));
  }

  function refreshLiked(){
    const c = qs('#liked-container'); c.innerHTML="";
    const lp = POSTS.filter(p=> localStorage.getItem(lk(p.id))==='1');
    if(!lp.length){ c.innerHTML='<div class="card"><div class="desc">‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡¶ø‡¶õ‡ßÅ ‚ù§Ô∏è ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡¶®‡¶ø‡•§ Home ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡¶æ‡¶∞‡ßç‡¶ü ‡¶ö‡¶æ‡¶™‡ßÅ‡¶®‡•§</div></div>'; return; }
    lp.forEach(p=> c.appendChild(renderCard(p)));
  }

  // ===== ADS =====
  async function watchAd(id){
    try{
      await window.showAdexora();             // Adexora interstitial
      const key=sk(id); let cur=Number(localStorage.getItem(key)||"0"); cur=Math.min(REQUIRED, cur+1);
      localStorage.setItem(key, cur);
      updateButtons(id, cur);
      showToast("+1 coin added ‚úÖ");
    }catch(e){
      // ad failed/closed
    }
  }

  // search live
  qs('#searchInput').addEventListener('input', e=> renderHome(e.target.value));

  // tabs
  qsa('.tab').forEach(t=>{
    t.onclick=()=>{
      qsa('.tab').forEach(x=>x.classList.remove('active')); t.classList.add('active');
      const name=t.dataset.tab;
      qsa('.view').forEach(v=>v.classList.remove('active')); qs('#view-'+name).classList.add('active');
      qs('#searchWrap').style.display = name==='home'?'flex':'none';
      qs('#home-notes').style.display  = name==='home'?'block':'none';
      if(name==='liked') refreshLiked();
      if(name==='home') renderHome(qs('#searchInput').value);
    };
  });

  // links open
  qsa('[data-go]').forEach(btn=>{
    btn.onclick=()=>{
      const url=btn.getAttribute('data-go');
      if(window.Telegram?.WebApp?.openTelegramLink) Telegram.WebApp.openTelegramLink(url);
      else window.open(url,'_blank');
    };
  });

  // first render
  renderHome("");
})();
</script>
</body>
  </html>
