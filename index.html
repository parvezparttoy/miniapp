<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unlimited Vairal Video ‚Äì Ads Unlock üîì</title>

  <!-- Telegram SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <!-- Adexora SDK -->
  <script src="https://adexora.com/cdn/ads.js?id=650"></script>

  <style>
    :root{
      --bg:#0b1220;--card:#111a2a;--bd:#1f2a44;--txt:#fff;--mut:#a1a8b4;
      --pri1:#22d3ee;--pri2:#0ea5e9;--ok:#22c55e;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--txt);font-family:sans-serif}
    .wrap{max-width:960px;margin:auto;padding:16px 12px 100px}
    h2{text-align:center;color:#7dd3fc;margin:10px 0 18px}

    /* search */
    .search{display:flex;align-items:center;background:#0d1426;border:1px solid var(--bd);border-radius:12px;padding:10px;margin-bottom:14px}
    .search input{flex:1;background:transparent;border:0;color:#fff;font-weight:700;outline:0}

    /* card */
    .card{background:var(--card);border:1px solid var(--bd);border-radius:14px;padding:14px;margin-bottom:14px;position:relative}
    .thumb{width:100%;border-radius:12px;aspect-ratio:16/9;object-fit:cover}
    .title{font-weight:800;margin:10px 0 4px}
    .desc{color:var(--mut);margin-bottom:10px}
    .progress{height:8px;background:#1e293b;border-radius:999px;overflow:hidden;margin-bottom:8px}
    .bar{height:100%;background:linear-gradient(90deg,#22c55e,#84cc16);width:0%;transition:width .25s}
    .row{display:flex;gap:8px}
    .btn{flex:1;padding:10px;border:0;border-radius:10px;font-weight:800;cursor:pointer}
    .watch{background:linear-gradient(180deg,var(--pri1),var(--pri2));color:#001b30}
    .watch.disabled{background:#253244;color:#93a3b5;cursor:not-allowed}
    .join{background:#253244;color:#cbd5e1}
    .join.ready{background:var(--ok);color:#062012}

    /* like */
    .like{position:absolute;top:10px;right:10px;width:44px;height:44px;background:rgba(255,255,255,.05);
          border:1px solid rgba(255,255,255,.1);border-radius:12px;display:grid;place-items:center;cursor:pointer}
    .like svg{width:24px;height:24px;stroke:#e5e7eb;fill:none;stroke-width:2}
    .like.active svg{fill:#f43f5e;stroke:#f43f5e}

    /* tabs */
    .dock{position:fixed;bottom:12px;left:12px;right:12px;background:#0c1322;border:1px solid rgba(255,255,255,.08);
          border-radius:20px;padding:10px}
    .nav{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .tab{display:flex;flex-direction:column;align-items:center;gap:4px;color:#cbd5e1;text-decoration:none;font-weight:700;cursor:pointer}
    .tab svg{width:22px;height:22px;stroke:#cbd5e1;fill:none;stroke-width:2}
    .tab.active{color:#7dd3fc}.tab.active svg{stroke:#7dd3fc}

    .foot{font-size:12px;color:#a1a8b4;margin:8px 0;text-align:center}
    .foot a{color:#7dd3fc;text-decoration:none;font-weight:700}

    /* toast */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:90px;background:#22c55e;color:#062012;
           border-radius:10px;padding:10px 16px;font-weight:800;display:none}
    .toast.show{display:block;animation:fade 1.8s ease-out 1}
    @keyframes fade{0%{opacity:0;transform:translate(-50%,6px)}10%{opacity:1}80%{opacity:1}100%{opacity:0}}
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Unlimited Vairal Video ‚Äì Ads Unlock üîì</h2>

    <div id="searchWrap" class="search">
      <span style="margin-right:6px">üîç</span>
      <input id="searchInput" placeholder="Search posts (e.g. era, ridhi, toha)">
    </div>

    <div id="view-home" class="view active"></div>
    <div id="view-liked" class="view" style="display:none"><div id="liked-container"></div></div>
    <div id="view-tutorial" class="view" style="display:none">
      <div class="card"><div class="title">How to use:</div>
        <ul class="desc" style="margin-left:18px">
          <li>‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßá Watch Ads (10/10) ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</li>
          <li>‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá +1 Coin Added ‚úÖ ‡¶π‡¶¨‡ßá‡•§</li>
          <li>10 ‡¶π‡¶≤‡ßá Join Channel ‡¶∏‡¶¨‡ßÅ‡¶ú ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</li>
          <li>Join ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶®‡¶ø‡¶ö‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</li>
        </ul>
      </div>
    </div>
    <div id="view-links" class="view" style="display:none">
      <div class="card"><div class="title">Community</div>
        <div class="desc">t.me/VairalVideoInTelegram</div>
        <button class="btn watch" onclick="window.open('https://t.me/VairalVideoInTelegram','_blank')">Open</button>
      </div>
    </div>

    <div class="foot">
      App Community: <a href="https://t.me/VairalVideoInTelegram">t.me/VairalVideoInTelegram</a><br>
      Made by <a href="https://t.me/ToxicNexo">@ToxicNexo</a>
    </div>
  </div>

  <div id="toast" class="toast">+1 coin added ‚úÖ</div>

  <div class="dock">
    <div class="nav">
      <a class="tab active" data-tab="home">
        <svg viewBox="0 0 24 24"><path d="M3 10.5 12 3l9 7.5v9H4z"/></svg><span>Home</span>
      </a>
      <a class="tab" data-tab="liked">
        <svg viewBox="0 0 24 24"><path d="M12 21C8 18 3 14 3 9.5A4.5 4.5 0 0 1 11 8a4.5 4.5 0 0 1 8 1.5C19 14 14 18 12 21Z"/></svg><span>Liked</span>
      </a>
      <a class="tab" data-tab="tutorial">
        <svg viewBox="0 0 24 24"><path d="M4 5h12a3 3 0 0 1 3 3v11H7a3 3 0 0 1-3-3z"/><path d="M7 5v11a3 3 0 0 0 3 3h9"/></svg><span>Tutorial</span>
      </a>
      <a class="tab" data-tab="links">
        <svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 0 0 7 0l3-3a5 5 0 0 0-7-7L11 5"/><path d="M14 11a5 5 0 0 0-7 0l-3 3a5 5 0 0 0 7 7l2-2"/></svg><span>Links</span>
      </a>
    </div>
  </div>

<script>
/* Config */
const JOIN_URL="https://t.me/+JQdsBNK6nE1kNTg1";
const REQUIRED=10;
const POSTS=[
  {id:"p1",title:"Jannat Toha Vairal Video ü•µ",desc:"‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§ ‡¶§‡ßã‡¶π‡¶æ‡¶∞ ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï üòç",img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251018_193741_659.jpg"},
  {id:"p2",title:"Era Moni TikTok üíó",desc:"‡¶á‡¶∞‡¶æ ‡¶Æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì üí¶",img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251016_155725_290.jpg"},
  {id:"p3",title:"Ridhii Moni üíó",desc:"‡¶∞‡¶ø‡¶ß‡ßÄ ‡¶Æ‡¶®‡¶ø ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì üî•",img:"https://raw.githubusercontent.com/parvezparttoy/miniapp/main/IMG_20251018_194758_066.jpg"},
];

/* Helper */
const qs=(s,p)=> (p||document).querySelector(s);
const qsa=(s,p)=> Array.from((p||document).querySelectorAll(s));
function pct(v){return Math.min(100,Math.round((v/REQUIRED)*100));}
function toast(t){const e=qs('#toast');e.textContent=t;e.classList.remove('show');void e.offsetWidth;e.classList.add('show');setTimeout(()=>e.classList.remove('show'),1600);}

/* Preload Adexora */
let adReady=false;
async function preloadAdexora(){
  let tries=0;
  while(!window.showAdexora && tries<25){await new Promise(r=>setTimeout(r,200));tries++;}
  if(window.showAdexora) adReady=true;
}
preloadAdexora();

/* Render cards */
function renderHome(){
  const home=qs('#view-home');home.innerHTML="";
  POSTS.forEach(p=>{
    const coins=+localStorage.getItem('coins_'+p.id)||0;
    const liked=localStorage.getItem('like_'+p.id)==='1';
    const c=document.createElement('div');c.className='card';
    c.innerHTML=`
      <button class="like ${liked?'active':''}" data-like="${p.id}">
        <svg viewBox="0 0 24 24"><path d="M12 21C8 18 3 14 3 9.5A4.5 4.5 0 0 1 11 8a4.5 4.5 0 0 1 8 1.5C19 14 14 18 12 21Z"/></svg>
      </button>
      <img class="thumb" src="${p.img}">
      <div class="title">${p.title}</div>
      <div class="desc">${p.desc}</div>
      <div class="progress"><div class="bar" id="${p.id}_bar" style="width:${pct(coins)}%"></div></div>
      <div class="row">
        <button class="btn watch" id="${p.id}_watch" ${coins>=REQUIRED?'disabled':''}>Watch Ads (${coins}/${REQUIRED})</button>
        <button class="btn join ${coins>=REQUIRED?'ready':''}" id="${p.id}_join" ${coins>=REQUIRED?'':'disabled'}>Join Channel</button>
      </div>`;
    home.appendChild(c);

    qs('[data-like]',c).onclick=()=>{const s=qs('.like',c);s.classList.toggle('active');localStorage.setItem('like_'+p.id,s.classList.contains('active')?'1':'0');};
    qs('#'+p.id+'_watch',c).onclick=()=>openAd(p.id);
    qs('#'+p.id+'_join',c).onclick=()=>{
      if(window.Telegram?.WebApp?.openTelegramLink) Telegram.WebApp.openTelegramLink(JOIN_URL);
      else window.open(JOIN_URL,'_blank');
      localStorage.removeItem('coins_'+p.id);
      renderHome();
    };
  });
}

/* Ads Logic */
let busy=false;
async function openAd(id){
  if(busy)return;busy=true;
  const w=qs('#'+id+'_watch');
  w.textContent='Loading Ad...';
  try{
    if(!adReady) await preloadAdexora();
    if(!window.showAdexora) throw Error('SDK not ready');
    await window.showAdexora(); // ad finishes
    const cur=+localStorage.getItem('coins_'+id)||0;
    const next=Math.min(REQUIRED,cur+1);
    localStorage.setItem('coins_'+id,next);
    toast('+1 coin added ‚úÖ');
    renderHome();
  }catch(e){toast('Ad failed, try again');}
  busy=false;
}

/* Tabs */
qsa('.tab').forEach(t=>{
  t.onclick=()=>{
    qsa('.tab').forEach(x=>x.classList.remove('active'));t.classList.add('active');
    const name=t.dataset.tab;
    ['home','liked','tutorial','links'].forEach(v=>qs('#view-'+v).style.display=(v===name)?'block':'none');
    if(name==='liked') renderLiked();
    if(name==='home') renderHome();
  };
});

/* Liked */
function renderLiked(){
  const c=qs('#liked-container');c.innerHTML="";
  const liked=POSTS.filter(p=>localStorage.getItem('like_'+p.id)==='1');
  if(!liked.length){c.innerHTML='<div class="card"><div class="desc">‚ù§Ô∏è ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶õ‡¶®‡ßç‡¶¶ ‡¶®‡ßá‡¶á‡•§</div></div>';return;}
  liked.forEach(p=>{
    const coins=+localStorage.getItem('coins_'+p.id)||0;
    const el=document.createElement('div');
    el.className='card';
    el.innerHTML=`<img class="thumb" src="${p.img}"><div class="title">${p.title}</div>
    <div class="desc">${p.desc}</div>
    <div class="progress"><div class="bar" style="width:${pct(coins)}%"></div></div>`;
    c.appendChild(el);
  });
}

/* Init */
renderHome();
</script>
</body>
                                                                                                                           </html>
